<div class="row" style="height: 100%; width: 100%;">
  <app-loading #loading></app-loading>
  <mat-card class="info-principal">
    <mat-card-header>
      <mat-card-actions style="width: 100%" [align]="'left'">
        <div class="linha">
          <div class="coluna-botao">
            <button
              [ngStyle]="{'visibility': !pagamentoSelecionado ? 'hidden' : 'visible'}"
              (click)="onVoltar($event)"
              style="float: left"
              mat-icon-button
            >
              <mat-icon>arrow_back</mat-icon>
            </button>
          </div>
          <div class="coluna-titulo">
            <strong>
              <h1>{{ titulo }}</h1>
            </strong>
          </div>
        </div>
      </mat-card-actions>
    </mat-card-header>
    <perfect-scrollbar class="pagamento">
      <div
        class="row"
        *ngIf="!pagamentoSelecionado"
        style="display: flex; align-content: space-evenly; height: 100%; width: 100%;"
      >
        <div style="display: flex; align-items: center; height: 100%;">
          <mat-card class="imagem" (click)="initCard()">
            <div class="img">
              <img src="./assets/cartao.svg" height="200px" />
            </div>
          </mat-card>
        </div>
        <div style="display: flex; align-items: center;">
          <mat-card class="imagem" (click)="initBoleto()">
            <img
              src="./assets/boleto.svg"
              height="200px"
            />
          </mat-card>
        </div>
      </div>
      <app-cartao-credito-form
        *ngIf="pagamentoSelecionado && pagamentoSelecionado === 'cartao'"
        [cartaoCredito]="cartaoCredito"
      ></app-cartao-credito-form>
      <div class="middle-col" *ngIf="pagamentoSelecionado" style="width: 100%;">
        <div class="row">
          <div class="buttons">
            <button
              [disabled]="!botaoEnabled"
              (click)="onEnviar($event)"
              mat-raised-button
              color="primary"
            >
              Enviar
            </button>
            <button (click)="onCancelar($event)" mat-raised-button color="warn">
              Cancelar
            </button>
          </div>
        </div>
      </div>
    </perfect-scrollbar>
  </mat-card>
  <mat-card class="info-produto">
    <div class="picture"><img src="./assets/full_logo.svg" /></div>
    <div class="row top-row" style="justify-content: space-between">
      <div class="left"><p style="margin: 0">Descrição</p></div>
      <div class="right"><p style="margin: 0">Valor</p></div>
    </div>
    <perfect-scrollbar>
      <div class="margin-5px">
        <app-produto-checkout *ngFor="let item of produtos" [produto]="item">
        </app-produto-checkout>
      </div>
      <div class="after"></div>
    </perfect-scrollbar>
    <hr />
    <div class="total">
      <p class="row">
        <span class="line">
          <span class="col left"><strong>Total:</strong></span>
          <span class="col right"
            ><strong>{{ precoTotal | money }}</strong></span
          >
        </span>
      </p>
    </div>
  </mat-card>
</div>
